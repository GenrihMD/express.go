{"version":3,"names":[],"mappings":"","sources":["vsDetect.js"],"sourcesContent":["\"use strict\";\nlet exec = require('child_process').exec;\nlet Bluebird = require(\"bluebird\");\nlet _ = require(\"lodash\");\nlet environment = require(\"./environment\");\n\nlet vsDetect = {\n    isInstalled: function (version) {\n        // On x64 this will look for x64 keys only, but if VS and compilers installed properly,\n        // it will write it's keys to 64 bit registry as well.\n        let command = \"reg query \\\"HKLM\\\\Software\\\\Microsoft\\\\VisualStudio\\\\\" + version + \"\\\"\";\n        return new Bluebird(function (resolve, reject) {\n            exec(command, function(err, stdout, stderr) {\n                _.noop(err);\n                if (stdout) {\n                    let lines = stdout.split(\"\\r\\n\").filter(function(line) { return line.length > 10; });\n                    if (lines.length >= 4) {\n                        resolve(true);\n                    }\n                    else {\n                        resolve(false);\n                    }\n                }\n                else {\n                    resolve(false);\n                }\n            });\n        });\n    }\n};\n\nmodule.exports = vsDetect;\n"],"file":"vsDetect.js","sourceRoot":"/source/"}